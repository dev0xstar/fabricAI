import{j as n}from"./jsx-runtime.dvAB8w6V.js";import{r as l}from"./index.B3PfHquH.js";import{u as m}from"./useDeviceType.DQdtQTu0.js";import{r as x}from"./resolve-element.BwSRoGbS.js";import{m as w}from"./motion.uZKkojSN.js";const g={some:0,all:1};function b(e,t,{root:o,margin:i,amount:s="some"}={}){const c=x(e),a=new WeakMap,p=d=>{d.forEach(r=>{const f=a.get(r.target);if(r.isIntersecting!==!!f)if(r.isIntersecting){const h=t(r);typeof h=="function"?a.set(r.target,h):u.unobserve(r.target)}else f&&(f(r),a.delete(r.target))})},u=new IntersectionObserver(p,{root:o,rootMargin:i,threshold:typeof s=="number"?s:g[s]});return c.forEach(d=>u.observe(d)),()=>u.disconnect()}function v(e,{root:t,margin:o,amount:i,once:s=!1}={}){const[c,a]=l.useState(!1);return l.useEffect(()=>{if(!e.current||s&&c)return;const p=()=>(a(!0),s?void 0:()=>a(!1)),u={root:t&&t.current||void 0,margin:o,amount:i};return b(e.current,p,u)},[t,e,o,s,i]),c}const I=({videoSrc:e})=>{const t=l.useRef(null),o=l.useRef(null),i=v(t,{once:!0,amount:"all"});return l.useEffect(()=>{i&&t.current&&t.current.play()},[i]),n.jsx(w.div,{ref:o,initial:{opacity:0},whileInView:{opacity:1},transition:{duration:1,ease:"easeInOut"},className:"of-video relative xl:-top-14 xl:-right-10",children:n.jsxs("video",{ref:t,width:"640",height:"360",loop:!0,muted:!0,playsInline:!0,children:[["mp4","webm"].map((s,c)=>n.jsx("source",{src:e[s],type:`video/${s}`},`index-${c}`)),"Your browser does not support the video tag."]})})},j=({imgSrc:e})=>n.jsxs("picture",{className:"of-image__robot",children:[n.jsx("source",{media:"(min-width: 641px)",srcSet:`${e.webp?.x1.src} 1x, ${e.webp.x2?.src} 2x`,type:"image/webp"}),n.jsx("img",{width:e.png.width,height:e.png.height,src:e.png.src,loading:"lazy",decoding:"async",alt:"Energy AI AI Applications"})]}),$=({imgSrc:e,videoSrc:t})=>{const o=m();return n.jsx("div",{children:o?n.jsx(j,{imgSrc:e}):n.jsx(I,{videoSrc:t})})};export{$ as default};
